<!DOCTYPE html>
<html>
	<head>
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
		<title>Задание 4</title>
		<script>
			AFRAME.registerComponent("soundhandler", {
				tick: function () {
					var entity = document.querySelector("[sound]");
					if (document.querySelector("a-marker").object3D.visible == true) {
						entity.components.sound.playSound();
					} else {
						entity.components.sound.pauseSound();
					}
				},
			});
		</script>
	</head>
	<body>
		<a-scene embedded arjs soundhandler>
			<a-assets>
				<img
					crossorigin="anonymous"
					id="img"
					src="https://i.scdn.co/image/ab67616d0000b273ee07b239264db04dcf5148cd"
				/>
				<audio
					id="audio"
					src="./audio/audio.mp3"
					crossorigin="anonymous"
				></audio>
			</a-assets>
			<a-marker
				preset="custom"
				type="pattern"
				url="./patterns/pattern-logo.patt"
			>
				<a-plane src="#img" height="1" width="1" rotation="-90 0 0">
					<a-sound src="#audio"></a-sound>
				</a-plane>
			</a-marker>
			<a-entity camera></a-entity>
		</a-scene>
	</body>
</html>